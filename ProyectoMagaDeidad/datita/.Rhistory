scale_y_log10(labels=scales::comma) +
scale_color_manual(values=c("SIN_SEÑALES" = "yellow", "ALARMA" = "orange", "GRAVE" = "red")) +
theme_light() +
labs(title="Edad promedio de contagiado de dengue (2010-2022)",
x="Año",
y="Edad Promedio",
color="Grado del Dengue")+
theme(plot.title = element_text(hjust = 0.8, face="bold", size=16))+
geom_text(data=last_mean, aes(label=round(statsValue)), hjust=-0.1, vjust=0.5, color="black", show.legend = FALSE)
library(ggplot2)
library(dplyr)
last_mean <- datamean %>%
group_by(enfermedad) %>%
filter(ano == max(ano))
ggplot(data=datamean, aes(x=ano, y=statsValue, color=enfermedad)) +
geom_smooth(se=TRUE, method="loess")+
scale_y_log10(labels=scales::comma) +
scale_color_manual(values=c("SIN_SEÑALES" = "yellow", "ALARMA" = "orange", "GRAVE" = "red")) +
theme_light() +
labs(title="Edad promedio de contagiado de dengue (2010-2022)",
x="Año",
y="Edad Promedio",
color="Grado del Dengue")+
theme(plot.title = element_text(hjust = 0.2, face="bold", size=16))+
geom_text(data=last_mean, aes(label=round(statsValue)), hjust=-0.1, vjust=0.5, color="black", show.legend = FALSE)
library(ggplot2)
library(dplyr)
last_mean <- datamean %>%
group_by(enfermedad) %>%
filter(ano == max(ano))
ggplot(data=datamean, aes(x=ano, y=statsValue, color=enfermedad)) +
geom_smooth(se=TRUE, method="loess")+
scale_y_log10(labels=scales::comma) +
scale_color_manual(values=c("SIN_SEÑALES" = "yellow", "ALARMA" = "orange", "GRAVE" = "red")) +
theme_light() +
labs(title="Edad media del contagiado de dengue (2010-2022)",
x="Año",
y="Edad Promedio",
color="Grado del Dengue")+
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))+
geom_text(data=last_mean, aes(label=round(statsValue)), hjust=-0.1, vjust=0.5, color="black", show.legend = FALSE)
denguelink2='https://github.com/SocialAnalytics-StrategicIntelligence/TableOperations/raw/main/dataFiles/worst_ProvYear_alarma_Frequency.csv'
dengueProvWorst <- read.csv(denguelink2)
str(dengueProvWorst)
View(dengueProvWorst)
dengueProvWorst[dengueProvWorst$departamento=='LORETO',]
dengueProvWorst[order(-dengueProvWorst$case),]
baseHeat  = ggplot(dengueProvWorst, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile() #here
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black')
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1),
axis.text.y = element_text(size=4)) +
geom_text(aes(label=ifelse(case>=10,case,"")),
size=6,fontface='bold', color='white')
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black')
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1),
axis.text.y = element_text(size=4)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black')
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1),
axis.text.y = element_text(size=6)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black')
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1,size=8),
axis.text.y = element_text(size=6)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1,size=7),
axis.text.y = element_text(size=6)),
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=8),
axis.text.y = element_text(size=4),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=4),
axis.text.y = element_text(size=4),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=4),
axis.text.y = element_text(size=4),
axis.title.x = element_text(size=8),
axis.title.y = element_text(size=8)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=4),
axis.text.y = element_text(size=5),
axis.title.x = element_text(size=10),
axis.title.y = element_text(size=10)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=5),
axis.text.y = element_text(size=5),
axis.title.x = element_text(size=10),
axis.title.y = element_text(size=10)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=5),
axis.text.y = element_text(size=5),
axis.title.x = element_text(size=10),
axis.title.y = element_text(size=10)) +
geom_text(aes(label=case),
size=2,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=5),
axis.text.y = element_text(size=5),
axis.title.x = element_text(size=10),
axis.title.y = element_text(size=10)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")
library(dplyr)
dengueProvWorst_peor <- dengueProvWorst %>% filter(case >= 10)
baseHeat  = ggplot(dengueProvWorst_peor, aes(x = reorder(departamento,case), y = reorder(provincia,case), fill=case)) + theme_classic()
heatDefault = baseHeat +  geom_tile()
heatBetter=heatDefault +scale_fill_gradient(low = 'yellow',high = 'black',name="Años con\nmayor cantidad\nde casos")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1, size=5),
axis.text.y = element_text(size=5),
axis.title.x = element_text(size=10),
axis.title.y = element_text(size=10)) +
geom_text(aes(label=case),
size=4,fontface='bold', color='white')+
labs(x="Departamento", y="Provincia", title="Peores provincias por año con más casos de dengue")+
theme(plot.title = element_text(hjust = 0.5, face="bold", size=15))
denguelink3='https://raw.githubusercontent.com/SocialAnalytics-StrategicIntelligence/TableOperations/main/dataFiles/ByYearPlace.pkl'
dengueYearPlace <- pd$read_pickle(denguelink3)
str(dengueYearPlace)
summary(dengueYearPlace)
# default
baseHeat  = ggplot(dengueYearPlace, aes(x = as.factor(ano),
y =reorder(departamento,
rateAlarma),
fill=rateAlarma.cut)) + theme_classic()
heatDefault = baseHeat +  geom_tile(show.legend = T) #here
heatBetter=heatDefault +scale_fill_brewer(palette = "Reds")
heatBetter + theme(axis.text.x = element_text(angle = 60,vjust = 1,hjust = 1),
axis.text.y = element_text(size=4))
View(dengueYearPlace)
library(ggplot2)
# Creamos el gráfico
ggplot(dengueYearPlace, aes(x = ano, y = rateAlarma, color = departamento)) +
geom_line() +
labs(x = "Año", y = "Casos alarmantes", color = "Departamento") +
theme_minimal() +
ggtitle("Evolución de los casos alarmantes de dengue por departamento a lo largo de los años")
library(ggplot2)
# Creamos el gráfico
ggplot(dengueYearPlace, aes(x = ano, y = departamento, fill = rateAlarma)) +
geom_tile() +
scale_fill_gradient(low = 'yellow', high = 'red', name = "Casos alarmantes") +
labs(x = "Año", y = "Departamento") +
theme_minimal() +
ggtitle("Evolución de los casos alarmantes de dengue por departamento a lo largo de los años")
# Creamos el gráfico
baseHeat  = ggplot(dengueYearPlace, aes(x = as.factor(ano),
y = reorder(departamento, rateAlarma),
fill=rateAlarma.cut)) + theme_classic()
heatDefault = baseHeat +  geom_tile(show.legend = T) #here
heatBetter=heatDefault +scale_fill_brewer(palette = "Reds")
heatBetter + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1, size=8), # Ajustamos el ángulo y el tamaño del texto del eje X
axis.text.y = element_text(size=4),
legend.text = element_text(size=8)) + # Ajustamos el tamaño de la leyenda
labs(x = "Año", y = "Departamento", fill = "Casos alarmantes", title = "Evolución de los casos alarmantes de dengue por departamento a lo largo de los años") # Añadimos un título y etiquetas a los ejes
# Creamos el gráfico
baseHeat  = ggplot(dengueYearPlace, aes(x = as.factor(ano),
y = reorder(departamento, rateAlarma),
fill=rateAlarma.cut)) + theme_classic()
heatDefault = baseHeat +  geom_tile(show.legend = T) #here
heatBetter=heatDefault +scale_fill_brewer(palette = "Reds")
heatBetter + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1, size=8), # Ajustamos el ángulo y el tamaño del texto del eje X
axis.text.y = element_text(size=4),
legend.text = element_text(size=8)) + # Ajustamos el tamaño de la leyenda
labs(x = "Año", y = "Departamento", fill = "Casos alarmantes", title = "Evolución de los casos alarmantes de dengue por departamento") # Añadimos un título y etiquetas a los ejes
baseHeat  = ggplot(dengueYearPlace, aes(x = as.factor(ano),
y = reorder(departamento, rateAlarma),
fill=rateAlarma.cut)) + theme_classic()
heatDefault = baseHeat +  geom_tile(show.legend = T)
heatBetter=heatDefault +scale_fill_brewer(palette = "Reds")
heatBetter + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1, size=8),
axis.text.y = element_text(size=4),
legend.text = element_text(size=8)) +
labs(x = "Año", y = "Departamento", fill = "Casos alarmantes", title = "Evolución de los casos alarmantes de dengue por departamento")+
theme(plot.title = element_text(hjust = 0.5, face="bold", size=15))
baseHeat  = ggplot(dengueYearPlace, aes(x = as.factor(ano),
y = reorder(departamento, rateAlarma),
fill=rateAlarma.cut)) + theme_classic()
heatDefault = baseHeat +  geom_tile(show.legend = T)
heatBetter=heatDefault +scale_fill_brewer(palette = "Reds")
heatBetter + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1, size=8),
axis.text.y = element_text(size=4),
legend.text = element_text(size=8)) +
labs(x = "Año", y = "Departamento", fill = "Casos alarmantes", title = "Evolución de los casos alarmantes de dengue por departamento")+
theme(plot.title = element_text(hjust = 0.3, face="bold", size=12))
View(dengueProvWorst_peor)
df= read.csv("https://github.com/bocchienjoyer/MaGODllanes/blob/3af370094a5138d8891fc4a3e6bae4dd297404de/ProyectoMagaDeidad/ranking_riesgo_proyectos_DIRECTA.csv")
View(df)
url= "https://raw.githubusercontent.com/bocchienjoyer/MaGODllanes/tareas/ProyectoMagaDeidad/ranking_riesgo_proyectos_DIRECTA.csv"
df= read.csv(url)
tail(df)
url= "https://raw.githubusercontent.com/Pepix2345/Proyecto-Magallanes/main/Trabajo%20de%20investigación/data/obras_riesgo_def.csv"
obras_riesgo= read.csv(url)
tail(obras_riesgo)
ano_ejecu= read.csv(url2, sep = ';')
url2="https://raw.githubusercontent.com/bocchienjoyer/MaGODllanes/main/ProyectoMagaDeidad/ano_ejecu.xls"
ano_ejecu= read.csv(url2, sep = ';')
summary(ano_ejecu)
summary(ano_ejecu(modalidad_ejecucion))
summary(ano_ejecu$modalidad_ejecucion)
View(ano_ejecu)
unique(ano_ejecu$modalidad_ejecucion)
summary(ano_ejecu)
summary(obras_riesgo)
url= "https://raw.githubusercontent.com/bocchienjoyer/MaGODllanes/main/ProyectoMagaDeidad/ano_riesgo.xls"
obras_riesgo= read.csv(url)
summary(obras_riesgo)
View(obras_riesgo)
rm(list = ls())
denguelink1='https://github.com/SocialAnalytics-StrategicIntelligence/TableOperations/raw/main/dataFiles/ByYear_LongStats.pkl'
library(reticulate)
use_python("C:/Users/jpnav/anaconda3")
#py_install("pandas") # install pandas for R environment
pd <- import("pandas")
dengueLongStats <- pd$read_pickle(denguelink1)
reticulate::py_last_error()
str(dengueLongStats)
datamean <- subset(dengueLongStats, statsName == "edad_mean")
View(dengueLongStats)
View(datamean)
#Lectura de la base
url= "https://raw.githubusercontent.com/bocchienjoyer/MaGODllanes/main/ProyectoMagaDeidad/ano_riesgo.xls"
obras_riesgo= read.csv(url)
summary(obras_riesgo)
View(obras_riesgo)
library(ggplot2)
library(dplyr)
last_mean <- obras_riesgo %>%
group_by(modalidad_ejecucion) %>%
filter(ano == max(ano))
ggplot(data=obras_riesgo, aes(x=ano, y=puntaje, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess")+
scale_y_log10(labels=scales::comma) +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Grado de riesgo de Obras a través de los años",
x="Año",
y="Puntaje",
color="Grado del Dengue")+
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))+
geom_text(data=last_mean, aes(label=round(puntaje)), hjust=-0.1, vjust=0.5, color="black", show.legend = FALSE)
library(ggplot2)
library(dplyr)
last_mean <- obras_riesgo %>%
group_by(modalidad_ejecucion) %>%
filter(ano == max(ano))
ggplot(data=obras_riesgo, aes(x=ano, y=puntaje, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess")+
scale_y_log10(labels=scales::comma) +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Grado de riesgo de Obras a través de los años",
x="Año",
y="Puntaje",
color="Grado del Dengue")+
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
last_mean <- obras_riesgo %>%
group_by(modalidad_ejecucion) %>%
filter(ano == max(ano))
ggplot(data=obras_riesgo, aes(x=ano, y=puntaje, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess")+
scale_y_log10(labels=scales::comma) +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Grado de riesgo de Obras a través de los años",
x="Año",
y="Puntaje",
color="Modalidad de ejecución")+
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_line() +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio de las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_line() +
geom_smooth(se=TRUE, method="loess") +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio de las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess") +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio de las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess") +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio \nde las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess") +
scale_color_manual(values=c("Administración directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio \nde las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess") +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio \nde las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
library(ggplot2)
library(dplyr)
# Calcular la cantidad de obras por año y modalidad
obras_riesgo_cantidad <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(cantidad = n())
# Crear el gráfico de barras
ggplot(data=obras_riesgo_cantidad, aes(x=ano, y=cantidad, fill=modalidad_ejecucion)) +
geom_bar(stat="identity", position="dodge") +
scale_fill_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución de la cantidad de obras \nejecutadas a través de los años",
x="Año",
y="Cantidad de obras",
fill="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
<img src="https://i.imgur.com/OSp7FVO.png"/>
---
title: "Gráficos Proyecto Magallanes"
#Lectura de la base
url= "https://raw.githubusercontent.com/bocchienjoyer/MaGODllanes/main/ProyectoMagaDeidad/ano_riesgo.xls"
obras_riesgo= read.csv(url)
summary(obras_riesgo)
library(ggplot2)
library(dplyr)
# Calcular el puntaje promedio por año y modalidad
obras_riesgo_promedio <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(puntaje_promedio = mean(puntaje, na.rm = TRUE))
# Crear el gráfico
ggplot(data=obras_riesgo_promedio, aes(x=ano, y=puntaje_promedio, color=modalidad_ejecucion)) +
geom_smooth(se=TRUE, method="loess") +
scale_color_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución del puntaje promedio \nde las obras a través de los años",
x="Año",
y="Puntaje promedio",
color="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
#Lectura de la base
url2="https://raw.githubusercontent.com/bocchienjoyer/MaGODllanes/main/ProyectoMagaDeidad/ano_ejecu.xls"
ano_ejecu= read.csv(url2, sep = ';')
summary(ano_ejecu)
library(ggplot2)
library(dplyr)
# Calcular la cantidad de obras por año y modalidad
obras_riesgo_cantidad <- obras_riesgo %>%
group_by(ano, modalidad_ejecucion) %>%
summarise(cantidad = n())
# Crear el gráfico de barras
ggplot(data=obras_riesgo_cantidad, aes(x=ano, y=cantidad, fill=modalidad_ejecucion)) +
geom_bar(stat="identity", position="dodge") +
scale_fill_manual(values=c("Administracion directa" = "red", "Contrata" = "yellow")) +
theme_light() +
labs(title="Evolución de la cantidad de obras \nejecutadas a través de los años",
x="Año",
y="Cantidad de obras",
fill="Modalidad de ejecución") +
theme(plot.title = element_text(hjust = 0.4, face="bold", size=18))
View(dengueLongStats)
View(dengueLongStats)
datacase <- subset(IRILongStats,
variable == "casesum" &
modalidad_ejecucion %in% c("Contrata", "Administración directa"))
library(reticulate)
use_python("C:/Users/jpnav/anaconda3")
pd <- import("pandas")
IRILongStats <- pd$read_pickle("GAAA.pkl")
setwd("C:/Users/jpnav/OneDrive/Escritorio/Cato/2024-1/MaGODllanes/ProyectoMagaDeidad/datita")
pd <- import("pandas")
IRILongStats <- pd$read_pickle("GAAA.pkl")
reticulate::py_last_error()
str(IRILongStats)
View(IRILongStats)
